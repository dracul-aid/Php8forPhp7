# Php8forPhp7 - Загрузчик функционалов библиотеки
[<<< Оглавление](README.md)

Класс `DraculAid\Php8forPhp7\LoaderPhp8Lib` предоставляет удобные методы для загрузки необходимого функционала, избавляя
от использования `require` или `include` и вычисления путей к нужным скриптам.

## Загрузка аналога WeakMap

Подробнее об [аналоге WeakMap](class-weakmap.md)

Если класс уже был объявлен ранее (например, вы используете PHP 8) объявление класса не произойдет и ошибки не случится

```php
// класс-загрузчик
use DraculAid\Php8forPhp7\LoaderPhp8Lib;

// загрузка WeakMap
LoaderPhp8Lib::loadWeakMap();
```

## Загрузка интерфейсов

Загрузка интерфейсов устойчива к тому, что некоторые интерфейсы могут быть уже определены. Вам не нужно проводить никакие
дополнительные проверки (т.е. не надо вызывать `interface_exists()`)

```php
// класс-загрузчик
use DraculAid\Php8forPhp7\LoaderPhp8Lib;

// загрузка интерфейсов PHP 8.0 и PHP 8.1
LoaderPhp8Lib::loadInterfaces();
```

Условием начала загрузки кода интерфейсов является отсутствие объявленного `\UnitEnum`, обычно такой проверки достаточно
что бы понять, что используется версия PHP ниже 8.1, а значит нужно загрузить интерфейсы. 

Но, если по какой-то ситуации, у вас уже объявлен `\UnitEnum`, но не объявлен `\Stringable` или иной другой интерфейс
PHP 8 - загрузку интерфейсов можно вызвать в принудительном режиме. В этом случае будут объявлены все недостающие интерфейсы

```php
// класс-загрузчик
use DraculAid\Php8forPhp7\LoaderPhp8Lib;
// загрузка интерфейсов PHP 8.0 и PHP 8.1 в принудительном режиме
LoaderPhp8Lib::loadInterfaces(true);
```

## Загрузка всех функций или конкретной функции

Подробнее [об загружаемых функциях](functions.md)

Загрузчик устойчив к тому, что часть функций была уже объявлена ранее, поэтому вам нет смысла проводить дополнительные
проверки с помощью `function_exists()`

```php
// класс-загрузчик
use DraculAid\Php8forPhp7\LoaderPhp8Lib;

// загрузка всех функций
LoaderPhp8Lib::loadAllFunctions();

// загрузка только функции array_is_list()
LoaderPhp8Lib::loadFunction('array_is_list');
```

* Условием начала загрузки всех функций - является версия PHP (ниже PHP 8.0).
* Условием загрузки концертной функции - факт, что она не была ранее объявлена

Если вам необходимо загрузить функции в любом случае, например, вам требуются "аналоги" объявленные в пространстве имен
`DraculAid\Php8forPhp7` - то обе функции позволяют это

```php
// класс-загрузчик
use DraculAid\Php8forPhp7\LoaderPhp8Lib;

// загрузка всех функций, даже если вы используете PHP 8+
LoaderPhp8Lib::loadAllFunctions(true);

// загрузка только функции array_is_list(). Если она уже определена, загрузка все равно будет произведена, и таким образом
// будет доступна DraculAid\Php8forPhp7\array_is_list()
LoaderPhp8Lib::loadFunction('array_is_list', true);
```

---

[<<< Оглавление](README.md)
